# genesis.yaml - Cigkoftecibey Webapp Configuration
# Updated for GENESIS Process Manager v2.0 (Hash-based ports)
#
# Project: cigkoftecibey-webapp
# Framework: vite-fastapi
# Type: fullstack (monorepo)
#
# Port Calculation (Hash-based):
#   - Backend: 9049 (CRC32 hash of "cigkoftecibey-webapp")
#   - Frontend: 19049 (CRC32 hash of "cigkoftecibey-webapp")

services:
  frontend:
    # Detected: vite
    # Port: 19049 (hash-based, no conflicts!)
    port: 19049
    start: "cd frontend && npm run dev -- --port 19049"
    stop: "pkill -f 'vite.*cigkoftecibey'"
    health_check:
      url: "http://localhost:19049/"
      method: GET

  backend:
    # Detected: fastapi
    # Port: 9049 (hash-based, no conflicts!)
    start: "cd backend && ./venv/bin/python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 9049"
    stop: "pkill -f 'uvicorn.*app.main:app.*9049'"
    health_check:
      url: "http://localhost:9049/api/health"
      method: GET

# Note: Backend requires project-specific venv
# To restart backend manually:
#   cd /Users/okan.yucel/cigkoftecibey-webapp/backend
#   source venv/bin/activate
#   uvicorn app.main:app --reload --host 0.0.0.0 --port 9049

# Metadata
generated_by: "GENESIS Process Manager v2.0 (Hash-based Port Allocation)"
project_type: "vite-fastapi"
confidence: 1.0
